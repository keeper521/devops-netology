# 1. #
### Краткое описание инцидента: ### 
Запись/комментарий визуально отображаются а после перезагрузки — пропадают.  
### Предшествующие события: ###
Плановые ремонтные работы по замене неисправного оптического оборудования 100G.  
### Причина инцидента: ###
На нескольких сервисах GitHub.com пострадали несколько сетевых разделов с последующим сбоем базы данных.  
### Воздействие: ###
Инцидент повлиял на метаданные веб-сайтов, хранящиеся в базах данных MySQL, такие как Issue и PR.
### Обнаружение: ###
Внутренние системы мониторинга начали генерировать оповещения, указывающие на многочисленные сбои в работе систем. Инженеры первой группы реагирования определили, что топологии для многочисленных кластеров БД находятся в неожиданном состоянии.
### Реакция: ###
Проблема была устранена командой за 24 часа.
### Восстановление: ###
Кластеры в восточном ЦОД восстановили из резервных копий и реплицировали новые данные с Западным побережьем.
### Таймлайн: ###
21.10.2018, 22:52 UTC плановые ремонтные работы по замене неисправного оптического оборудования 100G, отключение связи на 43 секунды.  
21.10.2018, 22:54 UTC внутренние системы мониторинга начали генерировать оповещения.  
21.10.2018, 23:07 UTC группа реагирования вручную заблокировала внутренние средства развёртывания, чтобы предотвратить внесение дополнительных изменений.  
21.10.2018, 23:09 UTC установлен жёлтый статус работоспособности сайта.  
21.10.2018, 23:09 UTC координатор присоединился к работе и через две минуты принял решение изменить статус на красный.
21.10.2018, 23:13 UTC к работе привлекли дополнительных разработчиков из инженерной группы БД.  
21.10.2018, 23:19 UTC была сделана частичная деградация сервиса, приостановлены вебхуки и сборки GitHub Pages.  
22.10.2018, 00:05 UTC принято решение восстановить файлы из бэкапа, синхронизировать реплики на обоих сайтах.  
22.10.2018, 00:41 UTC инициирован процесс резервного копирования для всех затронутых кластеров MySQL с отслеживанием прогресса инженерами.  
22.10.2018, 06:51 UTC несколько кластеров в восточном ЦОД завершили восстановление из резервных копий и начали реплицировать новые данные с Западным побережьем.  
22.10.2018, 07:46 UTC рассылка сообщения о сбое пользователям системы.  
22.10.2018, 11:12 UTC все первичные БД вновь переведены на Восток.  
22.10.2018, 13:15 UTC начало подготови дополнительных реплик чтения MySQL в общедоступном облаке Восточного побережья.  
22.10.2018, 23:03 UTC все незавершённые события вебхуков и сборки Pages обработаны, а целостность и правильная работа всех систем подтверждена. Статус сайта обновлён на зелёный.  
### Последующие действия: ###
Отрегулирована конфигурация Orchestrator, чтобы запретить перемещение первичных БД за границы региона.Ускорена миграция на новую систему отчётности по статусам.
